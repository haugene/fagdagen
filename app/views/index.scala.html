@(tracks: List[models.Track], slots: List[models.Slot], lastSlot: models.Slot, isAdmin: Boolean)
<!DOCTYPE html>

<html>
<head>
    <title>Fagdagen 2013</title>
    <link rel='shortcut icon' type='image/png' href='@routes.Assets.at("images/favicon.png")'>
    <script src='@routes.Assets.at("javascripts/jquery-1.9.0.min.js")' type='text/javascript'></script>

    <!-- Bootstrap -->
    <script src='@routes.Assets.at("bootstrap/js/bootstrap.js")' type='text/javascript'></script>

    <link rel='stylesheet/less' type='text/css' media='screen' href='@routes.Assets.at("less/main.less")'>
    <script src='@routes.Assets.at("javascripts/less-1.3.3.min.js")' type='text/javascript'></script>

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href='@routes.Assets.at("bootstrap/css/bootstrap-responsive.min.css")' rel="stylesheet">

    <!-- Fancy time picker -->
    <link href='@routes.Assets.at("stylesheets/bootstrap-timepicker.css")' rel="stylesheet">
    <script src='@routes.Assets.at("javascripts/bootstrap-timepicker.js")' type='text/javascript'></script>

</head>
<body>

<script type="text/javascript">
    console.log("Is admin: @isAdmin");
</script>

<div class="navbar-fixed-top navbar navbar-inverse">
    <div class="navbar-inner">
        <h3 class="menu"> Fagdagen 2013 </h3>
    </div>
</div>
<div class="content-fluid">
    <div class="row-fluid">
        <div class="span12 visible-desktop">

                @if(flash.contains("form_result")) {
                <div class="offset2 span9">
                    <div class="row-fluid">
                        <h4 style="color: red">@flash.get("form_result")</h4>
                    </div>
                </div>
                }

                <!-- Display tracks -->
                @renderTracks(tracks)

                <!-- Display slots and presentations -->
                @for(slot <- slots) {

                <div class="row-fluid">
                    <div class="span2 time">
                        @renderSlot(slot)
                    </div>
                    <div class="span9 trackBg">
                        @if(slot.isBreak()) {
                            @renderBreak()
                        }
                        @if(slot.containsKeynote()) {
                            @renderKeynotes(slot.presentations, isAdmin)
                        }
                        @if(slot.containsPresentations()) {
                            @renderPresentations(slot, tracks, lastSlot, isAdmin)
                        }
                    </div>
                </div>
                }

                @if(isAdmin) {
                    @renderAddNewSlot()
                }

                <!-- Fade out -->
                <div class="row-fluid">
                    <div class="offset2 span9 trackEndBg">
                    </div>
                </div>
        </div>

        <div class="visible-phone span12 visible-tablet">
            <div class="accordion" id="slots">
            @for(slot <- slots) {
                <div class="accordion-group">
                    <div class="accordion-heading">
                        @if(slot.isBreak) {
                            Pause @slot.getFormattedStartTime - @slot.getFormattedEndTime
                        }
                        @if(!slot.isBreak) {
                            <a class="accordion-toggle" data-toggle="collapse" data-parent="#slots" href="#collapse@slot.id">
                                @slot.getFormattedStartTime - @slot.getFormattedEndTime
                            </a>
                        }
                    </div>
                    @if(!slot.isBreak) {
                        <div id="collapse@slot.id" class="accordion-body collapse in">
                            <div class="accordion-inner">
                                @for(track <- tracks) {
                                    <div>
                                        <div class="mobileTrackName">
                                            @track.name
                                        </div>
                                    </div>
                                    @for(presentation <- track.getPresentations(slot)){
                                        @track.name <br /> @presentation.name
                                    }
                                }
                            </div>
                        </div>
                    }
                </div>
            }
            </div>
        </div>
    </div>
</div>
</body>
</html>